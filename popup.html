<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>ClipBox</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="popup.css" />
  <style>
    html, body {
      overflow: hidden !important;
      overscroll-behavior: none !important;
      touch-action: pan-y !important;
      margin: 0; padding: 0; background: transparent;
    }
    body {
      display: flex; justify-content: flex-end; align-items: stretch;
      width: 100%; min-width: 320px; overflow: hidden !important;
    }
    /* å›åˆ°é¡¶éƒ¨æŒ‰é’®ï¼ˆå›ºå®šåœ¨å³ä¸‹è§’ï¼‰ */
    #backTopBtn{
      position: fixed; right: 12px; bottom: 12px; z-index: 1000; display: none;
      align-items: center; gap: 6px; padding: 8px 10px; border-radius: 12px;
      border: 1px solid var(--border); background: var(--panel); color: var(--text);
      cursor: pointer; box-shadow: var(--shadow); user-select: none;
      transition: box-shadow .18s, transform .06s;
    }
    #backTopBtn.show{ display:flex; }
    #backTopBtn:hover{ transform: translateY(-1px); box-shadow: 0 12px 30px rgba(136,149,169,.30); }
  </style>
</head>
<body>
  <div id="app">
    <!-- é¡¶æ ï¼šå·¦æ ‡é¢˜ï¼›å³ä¾§â€œè®¾ç½®â€æ–‡å­—æŒ‰é’® -->
    <header class="topbar">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;width:100%;">
        <h1 style="display:flex;align-items:center;gap:8px;margin:0;">
          <span id="titleIcon" aria-hidden="true" style="font-size:18px;">ğŸ“¦</span>
          <span id="titleText">ClipBox</span>
        </h1>
        <button id="settingsBtn" class="btn-ghost" title="è®¾ç½®" aria-label="è®¾ç½®">è®¾ç½®</button>
      </div>
    </header>

    <!-- æœç´¢å·¥å…·æ¡ï¼ˆä¸å‚ä¸åˆ—è¡¨æ»šåŠ¨ï¼‰ -->
    <section class="toolbar toolbar--search">
      <input id="searchInput" class="search" type="search" placeholder="æœç´¢å†…å®¹â€¦" />
      <select id="typeFilter" class="select">
        <option value="">å…¨éƒ¨ç±»åˆ«</option>
      </select>
    </section>

    <!-- åŠ¨ä½œå·¥å…·æ¡ï¼ˆå¤–å£³ + å››ä¸ªæŒ‰é’®ï¼›ä¸å‚ä¸åˆ—è¡¨æ»šåŠ¨ï¼‰ -->
    <section class="toolbar toolbar--actions">
      <div class="actionsShell">
        <button id="addBtn" class="btn primary" title="æ–°å¢">
          <span class="toolIcon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          </span>
          <span class="toolText">æ–°å¢</span>
        </button>

        <button id="pasteBtn" class="btn" title="ç²˜è´´">
          <span class="toolIcon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path d="M9 3h6l1 2h2a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V7a2 2 0 012-2h2l1-2z" fill="none" stroke="currentColor" stroke-width="1.6"/>
              <path d="M8 12h8M8 16h8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="toolText">ç²˜è´´</span>
        </button>

        <button id="exportBtn" class="btn" title="å¯¼å‡º">
          <span class="toolIcon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24"><path d="M12 16V4m0 0 4 4m-4-4-4 4M4 20h16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </span>
          <span class="toolText">å¯¼å‡º</span>
        </button>

        <label for="importFile" class="btn" id="importLabel" title="å¯¼å…¥" role="button">
          <span class="toolIcon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24"><path d="M12 8v12m0 0 4-4m-4 4-4-4M4 4h16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </span>
          <span class="toolText">å¯¼å…¥</span>
        </label>
        <input id="importFile" type="file" accept="application/json" hidden />
      </div>
    </section>

    <!-- åˆ—è¡¨åŒºï¼ˆå”¯ä¸€æ»šåŠ¨åŒºï¼‰ -->
    <main id="list" class="list">
      <!-- å¯é€‰ï¼šåˆ—è¡¨æ¸²æŸ“å†…å®¹æ’å…¥è¿™é‡Œ -->
      <div id="sentinel" style="height:1px;"></div>
    </main>

    <!-- è®¾ç½®å¼¹çª—ï¼ˆæ— â€œé«˜åº¦â€è®¾ç½®ï¼‰ -->
    <dialog id="settingsDialog" class="dialog">
      <form method="dialog" id="settingsForm" class="dialog-form">
        <h3>è®¾ç½®</h3>

        <label class="field">
          <span>æ ‡é¢˜æ–‡å­—</span>
          <input id="settingsTitle" type="text" placeholder="å¦‚ï¼šClipBox" />
        </label>

        <div class="field">
          <span>æ ‡é¢˜å›¾æ ‡ï¼ˆé¢„è®¾ï¼‰</span>
          <div id="iconChoices">
            <label><input type="radio" name="titleIcon" value="heart" /><span style="font-size:16px;">â¤ï¸</span><span>çˆ±å¿ƒ</span></label>
            <label><input type="radio" name="titleIcon" value="cat" /><span style="font-size:16px;">ğŸ±</span><span>çŒ«å’ª</span></label>
            <label><input type="radio" name="titleIcon" value="book" /><span style="font-size:16px;">ğŸ“š</span><span>ä¹¦æœ¬</span></label>
            <label><input type="radio" name="titleIcon" value="robot" /><span style="font-size:16px;">ğŸ¤–</span><span>æœºå™¨äºº</span></label>
            <label><input type="radio" name="titleIcon" value="box" /><span style="font-size:16px;">ğŸ“¦</span><span>ç›’å­</span></label>
            <label><input type="radio" name="titleIcon" value="github" /><span style="font-size:16px;">ğŸ™</span><span>GitHub</span></label>
          </div>
        </div>

        <menu class="dialog-actions">
          <button id="settingsCancelBtn" class="btn" value="cancel" formnovalidate>å–æ¶ˆ</button>
          <button id="settingsSaveBtn" class="btn primary" value="default">ä¿å­˜</button>
        </menu>
      </form>
    </dialog>

    <!-- ç¼–è¾‘/æ–°å¢å¼¹çª— -->
    <dialog id="editDialog" class="dialog">
      <form method="dialog" id="editForm" class="dialog-form">
        <h3 id="dialogTitle">ç¼–è¾‘ç”¨è¯­</h3>
        <label class="field">
          <span>å†…å®¹</span>
          <textarea id="contentInput" rows="5" required placeholder="è¯·è¾“å…¥å†…å®¹ï¼ˆä¸Šé™ 9999 å­—ï¼‰"></textarea>
        </label>
        <label class="field">
          <span>ç±»åˆ«</span>
          <input id="typeInput" type="text" placeholder="å¦‚ï¼šé€šç”¨ã€å”®å‰ã€æŠ€æœ¯æ”¯æŒâ€¦" list="typeList" />
          <datalist id="typeList"></datalist>
        </label>
        <menu class="dialog-actions">
          <button id="cancelBtn" class="btn" value="cancel" formnovalidate>å–æ¶ˆ</button>
          <button id="saveBtn" value="default" class="btn primary">ä¿å­˜</button>
        </menu>
      </form>
    </dialog>

    <!-- åˆ—è¡¨é¡¹æ¨¡æ¿ -->
    <template id="itemTpl">
      <article class="item">
        <div class="colorDot"></div>
        <div class="meta">
          <div class="content"></div>
          <div class="typeTag"></div>
        </div>
        <div class="ops">
          <button class="btn-ghost copyBtn" title="å¤åˆ¶">å¤åˆ¶</button>
          <button class="btn-ghost editBtn" title="ç¼–è¾‘">ç¼–è¾‘</button>
          <button class="btn-ghost danger delBtn" title="åˆ é™¤">åˆ é™¤</button>
        </div>
      </article>
    </template>
  </div>

  <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’®ï¼ˆåœ¨åˆ—è¡¨æ»šåˆ°åº•éƒ¨æ˜¾ç¤ºï¼‰ -->
  <button id="backTopBtn" title="å›åˆ°é¡¶éƒ¨" aria-label="å›åˆ°é¡¶éƒ¨">
    <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M12 5l-6 6h4v8h4v-8h4z" fill="currentColor"/>
    </svg>
    é¡¶éƒ¨
  </button>

  <script src="popup.js"></script>
</body>
</html>
